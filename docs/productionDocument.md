# 智能英语作文批改平台 产品文档

## 一、产品概述

智能英语作文批改平台旨在为学生和教师提供一站式的英语作文批改与学习服务。该平台采用人工智能技术自动评分并生成针对性的反馈和练习题，帮助学生高效提升英语写作能力。产品支持亮色和暗色模式，在宽屏和窄屏设备上均有良好显示效果，同时可在 iOS 设备上通过分享书签直接以应用样式打开。系统主要用户包括学生、教师和管理员，根据用户不同的角色和权限提供相应的功能和视图。

## 二、用户角色与权限

- 管理员：拥有最高权限，可管理所有用户和系统设置。例如创建/删除教师和学生账号、重置普通用户密码、配置系统参数等。
- 教师：负责学生作业管理和批改。教师账号关联班级和年级信息，可批量上传学生作文、查看全班和单个学生的作文成绩与反馈、生成班级报告等。
- 学生：可以提交个人作文，查看自己的作文得分与反馈、练习题推荐和成绩历史。学生账号关联年级、班级、姓名和学号等属性。

用户的基本属性包括姓名、账号（或学号/工号）、角色（管理员/教师/学生）、所属年级、班级等。系统采用账号密码登录方式，后期可扩展支持邮箱验证码、手机验证码或微信扫码登录。所有用户均需通过授权登录后才能进入系统，教师和管理员可管理和查看相应权限范围内的数据。

## 三、界面设计与兼容性

平台界面采用响应式设计，确保在不同屏幕尺寸（桌面、平板、手机等）均有良好体验。主要特点包括：

- 主题切换：支持明亮模式和暗黑模式，用户可根据环境和喜好自由切换。
- 响应式布局：界面元素根据屏幕宽度自动调整，适配窄屏手机和宽屏电脑。重要功能按钮在移动端和PC端均易于触达。
- PWA 支持：为提升用户体验，网站可在 iOS 等设备上通过“添加到主屏幕”方式创建 Web App 快捷方式。分享书签时可显示为类似原生应用的样式，支持离线访问缓存基本界面。
- 美观简洁：整体视觉风格简洁现代，重点突出作文批改结果和反馈内容，兼顾手机端可读性。报告页和截图均采用排版设计，保证内容既美观又易于阅读。

## 四、作文上传与识别

学生和教师可以通过多种方式上传英语作文：

- 文件上传：支持 Word (.doc/.docx)、纯文本（.txt）、PDF 等格式的文件上传。教师批量上传时可同时选择多个文件或压缩包（.zip）。文件命名可按约定规则（如“学生学号后两位_作业编号”）命名，便于自动识别对应学生。
- 图片/拍照上传：支持上传图片格式（jpg、png 等）或直接通过手机摄像头拍照上传作文照片。后台将对图片进行文字识别。
- 在线输入：提供在线文本框，学生或教师可直接粘贴或输入作文文字内容。

上传后，系统调用OCR 模块将图片或扫描文档内容转为可编辑文本。OCR 模块使用 AIHubMix API 提供的 OCR 服务，后台将上传的图片发送至该 API 并获取返回的纯文本结果。文本识别准确度高，确保后续评分与分析的准确性。

## 五、自动评分与反馈

平台集成 AI 评分服务，自动对上传的英语作文进行评分并生成反馈：

- 评分 API 调用：将作文文本内容提交给 AIHubMix API 进行自动评分。该 API 服务在国内可用，可返回作文的分数及详细评分项。
- 安全凭证管理：API 调用需使用 AIHUBMIX_TOKEN（已存储在 .env.local）。为了安全管理，开发人员无需直接获取该 Token。前端请求传送作文内容到后端时，后端在服务器环境（如 Vercel 环境变量）中读取 AIHUBMIX_TOKEN 并附带请求。这样敏感信息不会暴露给前端或开发人员。
- 评分结果处理：系统接收 API 返回的分数及评分细项，记录到数据库。评分项目包括语法、用词、表达、结构等多项细分指标。若某项未扣分，也会显示“无错误”或“符合要求”。针对每个得分项，系统列出具体扣分点或评价，以便学生清楚知道哪里需要改进。
- 反馈生成：在获得评分后，系统自动生成综合评价建议，语言准确简洁，指出作文中的优点和不足。评价遵循学术要求，避免过于生硬的表述，力求对学生友好易懂。反馈同时突出文章思路和结构，满足新高考读后续写等考纲要求。

## 六、学生功能

- 查看成绩与反馈：学生登录后可查看每次提交的作文得分和 AI 生成的评价、批注。如作文中有错误，系统会逐条列出并标注，提示修改方向；如某些方面未扣分，会显示“无错误”提示。
- 历史记录与成绩分析：平台保存学生每次作文的分数和反馈内容。学生可选择指定时间段或特定数量的作文进行成绩统计和对比分析，例如查看某段时期内分数变化趋势、各项指标平均得分等。分析结果以图表或列表形式展示，帮助学生了解学习进步情况。
- 评价截图生成功能：学生作文评价页面设计美观、信息完整，支持一键生成适合手机端查看的截图。该截图包含作文原题、得分、详细评价和练习推荐等内容，方便学生保存或分享。截图样式和排版经过优化，保证在手机上阅读时内容清晰、易于理解。
- 练习题与学习资源推荐：在学生查看评价后，系统自动基于作文内容和学生得分弱点推荐相关练习：
- 词汇练习：根据作文中出现的生词或高频词语，为学生推荐词汇练习题。可使用 Collins、Wordnik、MDN 等词典 API 获取单词定义、例句等，并调用开源单词练习题生成服务或自有题库生成练习题。
- 语法练习：根据作文中的语法错误类型，推荐相应的语法填空或改错练习。可集成语法检查 API（如语言工具 API）获取错误类型，并匹配现成的语法练习题，或使用 GPT/OpenAI 等智能生成题目。
- 视频资源：推荐与作文主题相关的教育视频，例如 B 站上关于写作技巧或相关文化背景的视频。利用 Bilibili 公共 API 或关键字搜索接口，抓取视频列表并在学生界面展示。
学习资源推荐尽量多样化、实用，涵盖免费和商用选项，让学生有更多自主学习途径。系统可配置调用不同的开放 API 或本地题库，确保数据合法合规。

## 七、教师功能

- 班级作文上传与管理：教师可批量上传全班学生的作文，支持任意格式（图片、PDF、Word 等）和多文件上传，也可直接上传压缩包（.zip）。系统会自动识别文件名与学生学号后两位对应关系，将作文分配给相应学生。
- 班级整体分析：上传后教师可查看整个班级的作文水平分布，包括平均分、分数分布图、各评分项平均成绩等统计数据。分析结果直观展示班级整体写作优势和普遍问题，帮助教师了解整体情况。
- 单个学生详情：在班级视图中点击某个学生，可查看该学生所有提交作文的详细评分和反馈（与学生个人界面功能相同）。教师可以切换不同作文进行查看，了解学生个体进步情况。
- 作业主题与标签管理：教师在发布写作作业时可填写作文题目和主题类型（如旅行、传统文化等），系统自动将学生的多次作文归类。后续分析时可以按主题筛选或对比，例如统计所有旅游主题作文的班级平均分。
- 报告生成与导出：教师可以生成班级作文分析报告和学生个人进步报告：
- 班级报告：包含班级整体成绩、趋势图表、常见错误统计、优秀作文案例等内容。报告设计美观专业，可输出为 Word 文档或 PDF，以便于课堂讲解或家长会议使用。
- 图片报告：生成两种规格的班级分析图片：一种适合插入 PPT 大屏展示（高分辨率、大尺寸），另一种适合手机端查看（较小尺寸、纵向布局）。图片报告包含关键数据和图表，满足不同场景需求。
- 成绩跟踪与筛选分析：教师账号保存所有历次作文成绩数据，可选取一段时间范围或若干次作业进行分析。例如老师想分析本学期所有写作题为“旅游”的作文成绩，就可筛选对应主题和时间，系统会统计出对应平均分、错误类型分布等信息。该功能帮助教师针对特定写作题型或时段进行教学反馈和复习指导。

## 八、数据存储与技术架构

- 技术栈：前端使用 Vue.js 开发 SPA（单页应用），后端采用 NestJS 框架构建 RESTful API 服务，数据库选用 PostgreSQL 存储结构化数据。文件和图片等静态资源（学生作文文档、照片、生成的报告图片等）存储在 Cloudflare R2 云存储中，以节省成本并保证高可用性。
- 环境配置：开发过程中，在 .env.local 文件中配置私密信息（如数据库连接、AIHubMix Token 等）。生产环境部署使用 Vercel 或类似云平台，所有敏感信息通过平台的环境变量功能配置，后端应用通过 process.env 读取。这样开发者无需直接了解 Token 值即可调用相关服务。
- 安全与权限：系统采用身份认证和权限控制。用户登录后系统发放访问令牌 (JWT)，每次操作都需校验身份和角色权限。敏感接口（如批量上传、重置密码、访问所有学生数据等）仅对管理员或相关教师开放。所有数据交互使用 HTTPS 加密，保护用户隐私。
- 日志与监控：平台记录关键操作日志，如用户登录登出、作文批改记录、报告导出记录等，便于审计和问题排查。可结合云平台监控服务追踪系统状态和性能，确保服务稳定运行。

## 九、未来规划

- 考试阶段扩展：目前系统将以“高考英语作文评分标准”为基准进行模型训练和反馈设计。未来将扩展到中考、小升初等不同年级阶段，针对各个阶段的写作要求定制评分和反馈。系统可根据用户年级自动切换对应的评分细则。
- 词汇限制功能：计划引入“词汇范围控制”功能，即作文中的词汇使用将限制在特定级别以内（如大学英语四级或高中词汇水平）。系统提醒超出范围的生词并提供解释，以防学生使用过高难度词汇，符合教学要求。
- 优化反馈自然度：当前 AI 反馈语言可能显得机械、直白，影响学生理解。未来将优化反馈内容，使评价更自然亲切，增强可读性和鼓励性。可通过调整提示词或后处理文本来提高人性化程度。
- 行文思路约束：针对新高考“读后续写”题型，作文不仅要语法正确，更要符合题意和考纲要求。系统将加入语篇结构分析模块，引导 AI 反馈关注文章逻辑和思路，确保建议符合考试标准。
- 推荐功能完善：持续收集并集成更多外部资源，例如高质量词汇练习 API、语法学习平台接口、权威教育视频链接等。对“推荐练习题”进行智能优化，动态更新题库内容和难度，以适应不同学生需求。
- 用户体验改进：将根据用户反馈和数据分析不断优化界面和功能。例如添加个性化主题、调整报告版式、丰富统计图表类型等。确保平台长期使用中的友好性和实用性。

十、总结

本产品通过精心设计的功能模块和技术方案，实现了从作文提交、智能批改到结果反馈和学习推荐的闭环服务。通过多角色协同（学生、教师、管理员），平台不仅提高了评分效率，还为教学过程提供了数据支持和分析工具。我们致力于不断优化算法和功能，使该系统成为学生写作练习和教师教学管理的得力助手。
